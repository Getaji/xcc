# C言語のポインタ

## ポインタとは

メモリのアドレス（データが置かれているメモリ上の位置）を格納する変数。

以下の `pNum` は `int*` 型（ポインタ型）になる。`*` を型名に寄せないのは、慣例あるいはポインタが指すものが型ではなく変数であるためな場合が多く、どちらに寄せても（あるいは空白を除去しても）動作は変わらない。

未初期化（宣言してから値を入れていない）のポインタは何を指しているかが不定なので、安全に扱うなら `NULL` を代入しておくとよい。（多くのC処理系で定義されているNULLマクロは任意の型のポインタに代入できる）

```c
int num = 0;      // 通常の変数
int *pNum = NULL; // ポインタ
// int* pNum; 同じ
// int*pNum;  同じ
```

そのまま参照すると、通常の変数は格納されている値が、ポインタはアドレスが得られる。格納しているものを得られるという点で共通している。

```c
num;  // 格納されている数値
pNum; // 格納されているアドレス
```

`&` （アドレス演算子）を使うと両方とも「その変数自身のアドレス」を得られる。

以下の `pNum` はポインタ（＝アドレスを格納する変数）なので、`&num` で得たアドレスを代入できる。

```c
&num;
&pNum;

pNum = &num;
```

`*` （間接演算子）を使うと、ポインタからそのアドレスが指している値を得られる。これはポインタ型のみに使える。

注意点として、ポインタが無効な場合（nullが入っている場合など）の結果は定義されていない。冒頭で「`NULL` を入れておくとよい」と説明したが、使用には注意が必要である。

先述の例では `pNum` に `num` のアドレスを入れたので、`pNum` に `*` を使うと `num` が指す値である `0` が得られる。

```c
num == *pNum;
```

